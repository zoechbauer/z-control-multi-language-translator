<div id="toast-anchor-translation">
  <app-header
    [currentTab]="Tab.Translate"
    [selectedTargetLanguages]="selectedLanguages"
  ></app-header>
</div>
<ion-content
  #content
  class="translation-content"
  [class.landscape]="!utilsService.isPortrait"
>
  <ion-card class="translation-card">
    <ion-card-header>
      <ion-card-title>{{ 'APP.NAME' | translate }}</ion-card-title>
      <p>
        {{ 'TRANSLATE.CARD.INFO' | translate:{ maxInputLength: maxInputLength,
        maxTargetLanguages: maxTargetLanguages } }}
      </p>
      <ion-card-subtitle>
        <div>
          <strong>{{ 'TRANSLATE.CARD.LABEL.BASE_LANGUAGE' | translate }}</strong
          >: {{ baseLangString }}
        </div>
        <div>
          <strong
            >{{ 'TRANSLATE.CARD.LABEL.SELECTED_TARGET_LANGUAGES' | translate
            }}</strong
          >:<br />
          <span [innerHTML]="getTargetLanguageNames()"></span>
        </div>
      </ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-textarea
        class="larger-font"
        [(ngModel)]="text"
        placeholder="{{ 'TRANSLATE.CARD.PLACEHOLDER.INPUT_TEXT' | translate }}"
        fill="outline"
        rows="3"
        maxlength="{{ maxInputLength }}"
        [counter]="true"
        [disabled]="textareaDisabled"
        (ionInput)="onTextareaInput()"
      ></ion-textarea>
    </ion-card-content>
    <ion-button
      fill="clear"
      (click)="translateText()"
      [disabled]="translateBtnDisabled"
      >{{ 'TRANSLATE.CARD.BUTTON.TRANSLATE' | translate }}</ion-button
    >
    <ion-button fill="clear" (click)="clear()" [disabled]="clearBtnDisabled"
      >{{ 'TRANSLATE.CARD.BUTTON.CLEAR' | translate }}</ion-button
    >
  </ion-card>
  @if(translations.length > 0) {
  <ion-card class="translation-card">
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="2"
            ><ion-icon name="language-outline"></ion-icon>
          </ion-col>
          <ion-col size="10"
            ><strong
              >{{ 'TRANSLATE.CARD_RESULTS.LABEL.TRANSLATED_TEXT' | translate
              }}</strong
            ></ion-col
          >
        </ion-row>
        @for (translation of translations; track translation.language) {
        <ion-row>
          <ion-col class="larger-font" size="2"
            >{{ translation.language }}</ion-col
          >
          <ion-col class="larger-font" size="10"
            >{{ translation.translatedText }}</ion-col
          >
        </ion-row>
        }
      </ion-grid>
    </ion-card-content>
  </ion-card>
  }
</ion-content>
